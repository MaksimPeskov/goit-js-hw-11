{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '49405379-236235770e28cb9bd374c0ae0';\n\nexport const searchImages = async query => {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  try {\n    const response = await axios.get(BASE_URL, { params });\n    return response.data;\n  } catch (error) {\n    throw new Error(error.response?.data?.message || 'Failed to fetch images');\n  }\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const createImageCardTemplate = ({\n  largeImageURL,\n  webformatURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `\n    <li class=\"gallery-item\">\n      <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\">\n        <div class=\"info\">\n          <div><p>Likes:</p> ${likes}</div>\n          <div><p>Views:</p> ${views}</div>\n          <div><p>Comments:</p> ${comments}</div>\n          <div><p>Downloads:</p> ${downloads}</div>\n        </div>\n      </a>\n    </li>\n  `;\n};\n\nexport const renderGallery = (images, galleryElement) => {\n  const markup = images.map(image => createImageCardTemplate(image)).join('');\n  galleryElement.innerHTML = markup;\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n};\n\nexport const showLoader = loaderElement => {\n  loaderElement.classList.remove('hidden');\n};\n\nexport const hideLoader = loaderElement => {\n  loaderElement.classList.add('hidden');\n};\n\nexport const clearGallery = galleryElement => {\n  galleryElement.innerHTML = '';\n};\n","import { searchImages } from './js/pixabay-api';\nimport {\n  renderGallery,\n  showLoader,\n  hideLoader,\n  clearGallery,\n} from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(event) {\n  event.preventDefault();\n\n  const searchQuery = event.target.elements['search-text'].value.trim();\n\n  if (!searchQuery) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Input cannot be empty!',\n      color: '#ef4040',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  showLoader(refs.loader);\n  clearGallery(refs.gallery);\n\n  try {\n    const data = await searchImages(searchQuery);\n\n    if (data.hits.length === 0) {\n      iziToast.warning({\n        title: 'Caution',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        color: '#ffa000',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    renderGallery(data.hits, refs.gallery);\n  } catch (error) {\n    iziToast.error({\n      message: error.message,\n      color: '#ef4040',\n      position: 'topRight',\n    });\n  } finally {\n    hideLoader(refs.loader);\n  }\n}\n"],"names":["BASE_URL","API_KEY","searchImages","query","params","axios","error","_b","_a","createImageCardTemplate","largeImageURL","webformatURL","tags","likes","views","comments","downloads","renderGallery","images","galleryElement","markup","image","SimpleLightbox","showLoader","loaderElement","hideLoader","clearGallery","refs","onFormSubmit","event","searchQuery","iziToast","data"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAEHC,EAAe,MAAMC,GAAS,SACzC,MAAMC,EAAS,CACb,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEE,GAAI,CAEF,OADiB,MAAME,EAAM,IAAIL,EAAU,CAAE,OAAAI,CAAM,CAAE,GACrC,IACjB,OAAQE,EAAO,CACd,MAAM,IAAI,QAAMC,GAAAC,EAAAF,EAAM,WAAN,YAAAE,EAAgB,OAAhB,YAAAD,EAAsB,UAAW,wBAAwB,CAC1E,CACH,ECjBaE,EAA0B,CAAC,CACtC,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA;AAAA,iBAEQN,CAAa;AAAA,oBACVC,CAAY,UAAUC,CAAI;AAAA;AAAA,+BAEfC,CAAK;AAAA,+BACLC,CAAK;AAAA,kCACFC,CAAQ;AAAA,mCACPC,CAAS;AAAA;AAAA;AAAA;AAAA,IAO/BC,EAAgB,CAACC,EAAQC,IAAmB,CACvD,MAAMC,EAASF,EAAO,IAAIG,GAASZ,EAAwBY,CAAK,CAAC,EAAE,KAAK,EAAE,EAC1EF,EAAe,UAAYC,EAEV,IAAIE,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB,EAEaC,EAAaC,GAAiB,CACzCA,EAAc,UAAU,OAAO,QAAQ,CACzC,EAEaC,EAAaD,GAAiB,CACzCA,EAAc,UAAU,IAAI,QAAQ,CACtC,EAEaE,EAAeP,GAAkB,CAC5CA,EAAe,UAAY,EAC7B,ECvCMQ,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAEjD,eAAeA,EAAaC,EAAO,CACjCA,EAAM,eAAc,EAEpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAE/D,GAAI,CAACC,EAAa,CAChBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yBACT,MAAO,UACP,SAAU,UAChB,CAAK,EACD,MACD,CAEDR,EAAWI,EAAK,MAAM,EACtBD,EAAaC,EAAK,OAAO,EAEzB,GAAI,CACF,MAAMK,EAAO,MAAM9B,EAAa4B,CAAW,EAE3C,GAAIE,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,QAAQ,CACf,MAAO,UACP,QACE,2EACF,MAAO,UACP,SAAU,UAClB,CAAO,EACD,MACD,CAEDd,EAAce,EAAK,KAAML,EAAK,OAAO,CACtC,OAAQrB,EAAO,CACdyB,EAAS,MAAM,CACb,QAASzB,EAAM,QACf,MAAO,UACP,SAAU,UAChB,CAAK,CACL,QAAY,CACRmB,EAAWE,EAAK,MAAM,CACvB,CACH"}